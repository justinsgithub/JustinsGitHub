import Callout from 'nextra-theme-docs/callout'


# Linux Apache Mysql Php

> set up with tasksel on Ubuntu 21.10 desktop

## update packages 

```shell
sudo apt update && sudo apt upgrade
```

## set hostname

```shell 
hostnamectl set-hostname my-desired-hostname
```
## show available timezones

```shell 
timedatectl list-timezones
```

## set timezone

```shell 
timedatectl set-timezone 'my/timezone'
```

## check time 

```shell 
date
```

## install tasksel

```shell 
sudo apt install tasksel
```

## use tasksel to install LAMP stack

```shell 
sudo tasksel install lamp-server
```

## edit settings in /etc/apache2/apache2.conf

- MaxKeepAliveRequests setting controls the max number of requests during a persistent connection.
- 50 is a conservative, some cases may need more.
- KeepAliveTimeout controls how long the server waits for new requests from already connected clients. 
- Setting KeepAliveTimeout to 5 seconds avoids wasting RAM.

```shell 
KeepAlive On
MaxKeepAliveRequests 50
KeepAliveTimeout 5
```

## 

```html 
<html>
<head>
    <title>PHP Test</title>
</head>
    <body>
    <?php echo '<h1>Hello World</h1>';

    $servername = "localhost";
    $username = "webuser";
    $password = "password";

    $conn = mysqli_connect($servername, $username, $password);

    if (!$conn) {
        die('<p>Connection failed: </p>' . mysqli_connect_error());
    }
    echo '<p>Connected successfully</p>';
    ?>
</body>
</html>

```
