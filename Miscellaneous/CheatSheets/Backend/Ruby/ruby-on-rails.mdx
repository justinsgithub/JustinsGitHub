# Ruby on Rails

> fullstack web application framework

## commands

- gem install rails
- rails server
- rails -v
- rails console
- rails routes
- rails new blog
- EDITOR=nano; rails credentials:edit --environment=development
- EDITOR=nano; rails credentials:edit --environment=production

## testing
> tests should fail first to ensure testing is working

- rails test test/controllers/entries_controller_test.rb
- rails test test/controllers/entries_controller_test.rb:8
- rails test test/models/entry_test.rb  
- rails test test/system/entries_test.rb:8
- rails generate system_test archives


## manual setup
- rails generate controller Articles index --skip-routes
- rails generate model Article title:string body:text
- rails db:migrate
- rails generate model Comment commenter:string body:text article references
- rails generate migration AddStatusToArticles status:string
- rails generate migration AddStatusToComments status:string
- rails db:migrate # for additional models
- rails db:rollback # if missed something in additional model
- rails db:migrate:redo # if missed something in additional model

## auto setup
- rails generate scaffold Entry meal_type:string calories:integer proteins:integer carbohydrates:integer fats:integer
- rails g controller archive index
- rails d controller archive # delete above because controller plural is conventional 
- rails g controller archives index

## rails console examples

- User.all
- user = User.last
- user = User.first
- user.signed_id
- user.to_global_id
- user.to_global_id.to_s
- user.signed_id(expires_in: 15 minutes)
- user.signed_id(expires_in: 15.minutes, purpose: "password_reset")


